@using Microsoft.Extensions.Localization
@using System.Globalization
@using ATI_Projet_Cultures.Locales
@inject IStringLocalizer<PersonnelResource> localizer

<EditForm class="position-relative" style="min-height: 8rem" Model="form" OnValidSubmit="Submit">
    <DataAnnotationsValidator></DataAnnotationsValidator>
    <ValidationSummary></ValidationSummary>
        <div class="row my-2">
        <div class="col-3 text-end">
            <label>@localizer["Titre"]</label>
            <InputSelect class="titre" @bind-Value="form.Titre">
                @foreach (string choix in ChoixTitre)
                {
                    if (ChoixTitre.IndexOf(choix) == 0)
                    {
                        <option selected="@choix" value="@choix">@choix</option>
                        form.Titre = choix;
                    }
                    else
                    {
                        <option value="@choix">@choix</option>
                    }

                }
            </InputSelect>
        </div>
        </div>
    <div class="row my-2">
        <div class="col-5 text-end">
            <label>@localizer["Nom"]</label>
            <InputText @bind-Value="form.Nom"></InputText>
        </div>
        <div class="col-5 text-end">
            <label>@localizer["Prénom"]</label>
            <InputText @bind-Value="form.Prenom"></InputText>
        </div>
    </div>
    <div class="row">
        <div class="col-4 text-end">
            <label>@localizer["Langue"]</label>
         <InputSelect @bind-Value="form.Langue">
            @foreach (var choix in Langues)
            {
               if(choix.Key == "Français")
               {
                  <option selected value="@(choix.Key)">@choix.Value</option>
                  form.Langue = choix.Key;
               }
               else
               {
                  <option value="@(choix.Key)">@choix.Value</option>
               }
               
            }
         </InputSelect>
        </div>
        <div class="col-6 text-end">
            <label>@localizer["Nationalité"]</label>
         <InputSelect @bind-Value="form.Nationalite">
            @foreach (var choix in Nationalites)
            {
               if (choix.Key == "Belge")
               {
                  <option selected value="@(choix.Key)">@choix.Value</option>
                  form.Nationalite = choix.Key;
               }
               else
               {
                  <option value="@(choix.Key)">@choix.Value</option>
               }
            }
         </InputSelect>
        </div>
    </div>
    <Button Class="position-absolute bottom-0 end-0 m-2" Type="ButtonType.Submit" Color="ButtonColor.Primary">@localizer["Ajouter"]</Button>
</EditForm>
